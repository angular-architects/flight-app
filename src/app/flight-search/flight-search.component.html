<div class="header">
  <h2 class="title">Flight Search</h2>
</div>

<form>
  <div class="form-group">
    <label>From:</label>
    <input
      name="from"
      [ngModel]="from()"
      (ngModelChange)="from.set($event)"
      class="form-control"
    />
  </div>
  <div class="form-group">
    <label>To:</label>
    <input
      name="to"
      [ngModel]="to()"
      (ngModelChange)="to.set($event)"
      class="form-control"
    />
  </div>

  <div class="form-group">
    <button
      class="btn btn-default"
      [disabled]="!from() || !to()"
      (click)="search()"
    >
      Search
    </button>
  </div>
</form>

<h3>{{ flightRoute() }}</h3>

<div class="row">
  @for (flight of flights(); track flight.id) {
    <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
      <app-flight-card
        [item]="flight"
        [selected]="basket()[flight.id]"
        (selectedChange)="updateBasket(flight.id, $event)"
      >
      </app-flight-card>
    </div>
  }
</div>

@if (basket()) {
  <div>
    <pre>{{ basket() | json }}</pre>
  </div>
}
